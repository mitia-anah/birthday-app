{"version":3,"sources":["component/element.js","component/destroyPopup.js","component/generate.js","component/birthday.js"],"names":["data","listOfData","document","querySelector","addDataBtn","myInput","getMonth","inputSearch","resetBtn","wait","ms","Promise","resolve","setTimeout","destroyPopup","popup","classList","remove","generateLists","people","sort","a","b","Date","birthday","map","date","day","today","currentDate","getDay","month","year","getFullYear","peopleAge","futAge","momentYear","birthdayDate","oneDay","dayLeft","Math","ceil","getTime","monthNname","console","log","id","picture","firstName","lastName","join","fetchData","response","fetch","dataList","json","displayList","myHtml","innerHTML","handleEditPerson","e","target","closest","editButton","editedId","dataset","editPerson","dataId","findPerson","find","person","createElement","add","insertAdjacentHTML","body","appendChild","window","addEventListener","preventDefault","value","toTimestamp","strDate","datum","parse","dispatchEvent","CustomEvent","once","handleDeletePerson","deleteData","deleteId","deleteBtn","deleteDataForm","idToDelete","dataToDelete","removeData","filter","el","deleteFindData","addNewPerson","addData","newData","form","currentTarget","newPerson","avatar","firstname","lastname","now","push","initLocalStorage","lsData","JSON","localStorage","getItem","updateLocalStorage","setItem","stringify","filteredName","listOfInput","filteredList","item","toLowerCase","includes","HTML","filteredMonth","listOfMonth","mth","fullMonth","toLocaleString","html"],"mappings":";;AGAA;;AACA;;AACA,AHFA;AACO,AEDA,MFCMA,GEDGkB,CFCC,GAAI,SEDd,CAAuBC,MAAvB,EAA+B,2HFC/B;AGGP,AFJI,ACCA,SAAOA,MAAM,CAACC,IAAP,CAAY,UAAUC,CAAV,EAAaC,CAAb,EAAgB;ACIvC,AFJW,ADCJ,AEAC,MFAKrB,GCDOQ,ECCL,EDDJ,CAAcC,CEIVyC,ADHI5B,CDDQ,ADCJ,GCDO,ADCJrB,AEAX,CDDJ,ACCamB,CAAC,CDDQ,ACCPG,ECG1B,GAA2B,AHHO,CAACrB,EEApB,EAAqBG,QAArB,CFAW,CAAuB,GEAA,CFAvB,CAAnB,EEA8CiB,IAAJ,CAASD,CAAC,CAACE,QAAX,EAAqBlB,QAArB,EAAzC;ACIJ,AFJI,ACCH,GAFM,EAGFmB,GCEC2B,ADLC,CDCI,ACEFpD,IDFMW,ACEF,GCEC,CDFG,ECEA,CFJN,CAAYC,IEIAyC,GFJO,EEIF,CAACrD,CFJKa,UAAU,CAACD,CEIjB,CAA5B,KFJ4C,EAAUF,EAAV,CAAjC,CAAP;AEKJ,AFJC,ADAE,AEEK,MFFCN,EGIHkD,KDFW5B,GCEH,AHJK,CEEX,CAAcC,CCEL,AHJKzB,EEEd,EAAmB,ECEJkD,EHJO,CAACjD,KGIA,CAACoD,IAAT,EAAvB,CHJsB,CAAuB,MAAvB,CAAnB;AGKH,ADFY,MCERpC,IDFYQ,ECEN,CDFS,ECEN2B,CDFS,CAAN,IAAW3B,ECE3B,CDF8B,GAAG,EAArB,EAAyB,OAAO,IAAP;ADF9B,ADAJ,MAAMtB,OAAO,ECAMS,CDAHZ,QAAQ,CAACC,ECArB,CAA4BY,KAA5B,EAAmC,GDAvB,CAAuB,UAAvB,CAAhB;AGMH,AFLIA,ACEQ,EDFRA,KAAK,CAACC,GEKDwC,GDHW7B,GDFhB,ACEmB,CDFHV,ECEM,ECG1B,ADHY,EDFR,CEKmB,AFLI,MAAvB;AEMA,AFLA,ADDD,AEGa,MFHPX,ECCCG,EEKAgD,EFLI,CAAC,ACEM,CFHJ,AEGD,ECGA,CFLF,ADDMvD,CCChB,CEKe,AFPuB,CAEpB,KDDM,CAACC,aAAT,CAAuB,QGMVgB,AHNb,CAAjB,KGMgB,CAAf;AACAlB,ADHgB,iBAAO,IAAP,GCGLy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","file":"birthday.4fc5c73a.js","sourceRoot":"..","sourcesContent":["// fetching the data from people.json\r\nexport const data = `https://gist.githubusercontent.com/Pinois/e1c72b75917985dc77f5c808e876b67f/raw/93debb7463fbaaec29622221b8f9e719bd5b119f/birthdayPeople.json`;\r\nexport const listOfData = document.querySelector('ul');\r\nexport const addDataBtn = document.querySelector('.add');\r\nexport const myInput = document.querySelector('.myInput');\r\nexport const getMonth = document.querySelector('.month');\r\nexport const inputSearch = document.querySelector('.inputSearch');\r\nexport const resetBtn = document.querySelector('.reset');","    // Destroy the popup\r\n    export function wait(ms = 0) {\r\n        return new Promise(resolve => setTimeout(resolve, ms))\r\n    }\r\n    export async function destroyPopup(popup) {\r\n        popup.classList.remove(\"open\");\r\n        await wait(1000); // Wait for 1 sec\r\n        popup.remove(); // remove it from the DOM\r\n        popup = null; // remove it from the javascript memory\r\n    }","export function generateLists(people) {\r\n    return people.sort(function (a, b) {\r\n        return new Date(a.birthday).getMonth() - new Date(b.birthday).getMonth()\r\n    })\r\n        .map(data => {\r\n            function date(day) {\r\n                if (day > 3 && day < 21) return \"th\";\r\n                switch (day % 10) {\r\n                    case 1:\r\n                        return \"st\";\r\n                    case 2:\r\n                        return \"nd\";\r\n                    case 3:\r\n                        return \"rd\";\r\n                    default:\r\n                        return \"0\";\r\n                }\r\n            }\r\n\r\n            const today = new Date();\r\n            const currentDate = new Date(data.birthday);\r\n            const day = currentDate.getDay();\r\n            const month = currentDate.getMonth();\r\n            const year = currentDate.getFullYear();\r\n            // const fullDate = `${day}${date(day)} / ${month + 1} / ${year}`;\r\n            const peopleAge = today.getFullYear() - year;\r\n            const futAge = peopleAge;\r\n\r\n            const momentYear = today.getFullYear();\r\n            const birthdayDate = new Date(momentYear, month, day);\r\n            let oneDay = 1000 * 60 * 60 * 24;\r\n            // let dateToday = new Date().getFullYear();\r\n            const dayLeft = Math.ceil((birthdayDate.getTime() - today.getTime()) / (oneDay));\r\n\r\n            var monthNname = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n                \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n            ][month];\r\n\r\n            console.log(dayLeft)\r\n\r\n            return `\r\n            <li class='list-of-data' data-id=\"${data.id}\">\r\n                <div class=\"col-8 col-sm-6 picture\"><image src=\"${data.picture}\" alt=\"${data.firstName + ' ' + data.lastName}\"/></div>\r\n                <div class=\"names-and-date\">\r\n                    <div class=\"names\">\r\n                        <span class=\"col-8 col-sm-6 firstName\" id=\"name\">${data.firstName}</span>\r\n                        <span class=\"col-8 col-sm-6 lastName\">${data.lastName}</span>\r\n                    </div>\r\n                    <p class=\"col-8 col-sm-6\">Turns ${futAge} on ${monthNname}  ${day}${date()} </p>\r\n                </div>   \r\n                <div class=\"group-btn\">\r\n                    <div class=\"col-8 col-sm-6 birthday\" >in ${dayLeft < 0 ? dayLeft * -1 + \"days\" :  dayLeft + \" days\"}</div>\r\n                    <div class=\"buttons\">\r\n                        <button data-placement=\"top\" data-toggle=\"tooltip\" title=\"Edit\" data-id=\"${data.id}\" class=\"edit btn btn-primary btn-xs\" data-title=\"Edit\" data-toggle=\"modal\" data-target=\"#edit\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 25 25\" stroke=\"#094067\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                        </svg>\r\n                        </button>\r\n\r\n                        <button data-id=\"${data.id}\" class=\"delete\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"#EF4565\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </div>            \r\n            </li>\r\n        `;\r\n        }).join('');\r\n    // tbody.innerHTML = html;\r\n};\r\n","import { data, listWrapper, listOfData, addDataBtn, myInput, getMonth, inputSearch, resetBtn } from './element.js';\r\nimport { wait, destroyPopup } from './destroyPopup.js';\r\nimport { generateLists } from './generate.js'\r\n\r\n// Function that fetch the data from people.json\r\nasync function fetchData() {\r\n    const response = await fetch(data);\r\n    const dataList = await response.json();\r\n    let people = dataList;\r\n\r\n    function displayList() {\r\n        const myHtml = generateLists(people);\r\n        listOfData.innerHTML = myHtml;\r\n    };\r\n    displayList();\r\n\r\n\r\n    // function that handle edit button and delete button\r\n    function handleEditPerson(e) {\r\n        if (e.target.closest('button.edit')) {\r\n            const editButton = e.target.closest('ul')\r\n            const editedId = editButton.dataset.id;\r\n            editPerson(editedId);\r\n        }\r\n    }\r\n    // Function for editing the form here\r\n    const editPerson = async (dataId) => {\r\n        console.log(people);\r\n        const findPerson = people.find(person => person.id !== dataId);\r\n        console.log(findPerson);\r\n        return new Promise(async function (resolve) {\r\n            const popup = document.createElement('form');\r\n            popup.classList.add('to-edit');\r\n            popup.insertAdjacentHTML('afterbegin',\r\n                `\r\n            <div class=\"popup\">\r\n                <div class=\"inner-popup\">\r\n                    <h4 class=\"person-name\">Edit ${findPerson.firstName} <span>${findPerson.lastName} </h4>\r\n                    <label class=\"popup-label\" for=\"picture\">Picture</label>\r\n                    <input class=\"input\" type=\"url\" name=\"picture\" value=\"${findPerson.picture}\">\r\n                    <label class=\"popup-label\" for=\"last-name\">Last name</label>\r\n                    <input class=\"input\" type=\"text\" name=\"lastName\" value=\"${findPerson.lastName}\">\r\n                    <label class=\"popup-label\" for=\"first-name\">First name</label>\r\n                    <input class=\"input\" type=\"text\" name=\"firstName\" value=\"${findPerson.firstName}\">\r\n                    <label class=\"popup-label\" for=\"birthday\">Birthday</label>\r\n                    <input class=\"input\" type=\"date\" name=\"birthday\" >\r\n                    <div class=\"buttons\">\r\n                        <button type=\"cancel\" class=\"btn cancel\">Cancel</button>\r\n                        <button type=\"submit\" class=\"btn submit\">Save</button>\r\n                    </div>\r\n                </div>\r\n                \r\n\t\t\t</div>\r\n    \t`\r\n            );\r\n            document.body.appendChild(popup);\r\n            await wait(50);\r\n            popup.classList.add('open');\r\n\r\n            // Reject the change\r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.cancel')) {\r\n                    destroyPopup(popup);\r\n                }\r\n            })\r\n\r\n            popup.addEventListener('submit', e => {\r\n                e.preventDefault()\r\n                findPerson.picture = popup.picture.value;\r\n                findPerson.lastName = popup.lastName.value; \r\n                findPerson.firstName = popup.firstName.value; \r\n                const toTimestamp=(strDate)=>{\r\n                    var datum = Date.parse(strDate);\r\n                    return datum/1000;\r\n                 } \r\n                findPerson.birthday = toTimestamp(popup.birthday.value);\r\n\r\n                    displayList(findPerson);\r\n\r\n                resolve(popup.remove());\r\n                destroyPopup(popup);\r\n                listOfData.dispatchEvent(new CustomEvent('pleaseUpdateTheList'));\r\n            }, { once: true });\r\n        });\r\n    };\r\n\r\n    // function for deleting item here\r\n    function handleDeletePerson(e) {\r\n        if (e.target.closest('button.delete')) {\r\n            const deleteData = e.target.closest('ul');\r\n            const deleteId = deleteData.querySelector('button.delete');\r\n            const deleteBtn = deleteId.dataset.id;\r\n            deleteDataForm(deleteBtn);\r\n        }\r\n    };\r\n\r\n    const deleteDataForm = (idToDelete) => {\r\n        // const deleteButton = people.filter(el => el.id !== idToDelete);\r\n        console.log(idToDelete);\r\n        return new Promise(async function (resolve) {\r\n            const dataToDelete = document.createElement('div');\r\n            dataToDelete.classList.add('to-delete');\r\n            dataToDelete.insertAdjacentHTML('afterbegin',\r\n                `\r\n            <div class=\"to-deleteEl\">\r\n                <p> ⚠ </p>\r\n                <p> Do you want to remove this person from the list?\r\n                </p>\r\n                <button class=\"remove\">Yes</button>\r\n                <button type=\"cancel\" class=\"cancel\">No</button>\r\n\t\t\t</div>\r\n        `);\r\n\r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.cancel')) {\r\n                    destroyPopup(dataToDelete);\r\n                }\r\n            });\r\n\r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.remove')) {\r\n                    const removeData = people.filter(el => el.id != idToDelete);\r\n                    const deleteFindData = removeData;\r\n                    people = deleteFindData;\r\n                    displayList(deleteFindData);\r\n                    destroyPopup(dataToDelete);\r\n                }\r\n            })\r\n            document.body.appendChild(dataToDelete);\r\n            dataToDelete.classList.add('open');\r\n            listOfData.dispatchEvent(new CustomEvent('pleaseUpdateTheList'));\r\n        });\r\n    };\r\n\r\n    const addNewPerson = (e) => {\r\n        if (e.target.closest('button.add')) {\r\n            addData();\r\n        }\r\n    };\r\n\r\n    const addData = id => {\r\n        return new Promise(async function (resolve) {\r\n            const newData = document.createElement('form');\r\n            newData.classList.add('popup');\r\n            newData.insertAdjacentHTML('afterbegin',\r\n                `\r\n            <div class=\"popup\">\r\n                <label for=\"picture\">Picture</label>\r\n                <input type=\"url\" id=\"avatar\" name=\"avatar\" required>\r\n                <label for=\"last-name\">Last name</label>\r\n                <input type=\"text\" id=\"lastName\" name=\"lastname\" required>\r\n                <label for=\"first-name\">First name</label>\r\n                <input itype=\"text\" id=\"firstName\" name=\"firstname\" required>\r\n                <label for=\"birthday\">Birthday</label>\r\n                <input type=\"date\" id=\"birthday\" name=\"birthdayDate\" placeholder=\"dd/mm/yy\"required>\r\n            </div>\r\n            <div>\r\n                <button type=\"cancel\" class=\"btn cancel\">Cancel</button>\r\n                <button type=\"submit\" class=\" btn submit\">Save</button>\r\n            </div>\r\n        `);\r\n            document.body.appendChild(newData);\r\n            newData.classList.add('open');\r\n\r\n            window.addEventListener('click', e => {\r\n                if (e.target.closest('button.cancel')) {\r\n                    destroyPopup(newData);\r\n                }\r\n            })\r\n\r\n            newData.addEventListener('submit',\r\n                e => {\r\n                    e.preventDefault();\r\n                    const form = e.currentTarget;\r\n                    const newPerson = {\r\n                        picture: form.avatar.value,\r\n                        firstName: form.firstname.value,\r\n                        lastName: form.lastname.value,\r\n                        birthday: form.birthdayDate.value,\r\n                        id: Date.now()\r\n                    };\r\n                    people.push(newPerson);\r\n                    console.log(people);\r\n                    displayList();\r\n                    destroyPopup(newData);\r\n\r\n                    // form.reset();\r\n                    listOfData.dispatchEvent(new CustomEvent('pleaseUpdateTheList'));\r\n                });\r\n        })\r\n    };\r\n\r\n    const initLocalStorage = () => {\r\n        //Check if there is something in the local storage\r\n        const lsData = JSON.parse(localStorage.getItem('people'));\r\n        if (lsData) {\r\n            people = lsData;\r\n            displayList();\r\n        }\r\n        listOfData.dispatchEvent(new CustomEvent('pleaseUpdateTheList'));\r\n    };\r\n\r\n    const updateLocalStorage = () => {\r\n        localStorage.setItem('people', JSON.stringify(people));\r\n    };\r\n\r\n    const filteredName = () => {\r\n        const listOfInput = myInput.value;\r\n        console.log(listOfInput);\r\n        const filteredList = people.filter(item => item.firstName.toLowerCase().includes(listOfInput.toLowerCase()));\r\n        console.log(filteredList);\r\n        const HTML = generateLists(filteredList);\r\n        listOfData.innerHTML = HTML;\r\n    };\r\n\r\n    const filteredMonth = () => {\r\n        const listOfMonth = getMonth.value;\r\n        const filteredMonth = people.filter(mth => {\r\n            const fullMonth = new Date(mth.birthday).toLocaleString('en-US', { month: 'long' });\r\n            return fullMonth.toLowerCase().includes(listOfMonth);\r\n        });\r\n        const html = generateLists(filteredMonth);\r\n        listOfData.innerHTML = html;\r\n    };\r\n\r\n    // const resetFilters = e => {\r\n    //     inputSearch.reset();\r\n    //     displayList();\r\n    // };\r\n\r\n    // resetBtn.addEventListener('click', resetFilters);\r\n    listOfData.addEventListener('pleaseUpdateTheList', updateLocalStorage);\r\n    addDataBtn.addEventListener('click', addNewPerson);\r\n    listOfData.addEventListener('click', handleEditPerson);\r\n    listOfData.addEventListener('click', handleDeletePerson);\r\n    myInput.addEventListener('input', filteredName);\r\n    getMonth.addEventListener('input', filteredMonth);\r\n    initLocalStorage();\r\n}\r\n\r\nfetchData()"]}